{"ast":null,"code":"var _jsxFileName = \"/Users/langgao/Documents/HiberSense Dashboard/hibersense-dash/src/components/Rooms/Room.js\";\nimport React, { Component } from 'react';\nimport LineChart from '../LineChart/LineChart';\nimport { connect } from 'react-redux';\nimport { changeBathroomTemp, changeLivingroomTemp, changeKitchenTemp, changeBedroomTemp } from '../store/actions/temperatureSettingAction';\n\nclass Room extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      kitchenData: {},\n      bedroomData: {},\n      livingroomData: {},\n      bathroomData: {},\n      cooling: false,\n      heating: false,\n      idle: false\n    };\n  }\n\n  componentDidMount() {\n    const _this$props = this.props,\n          roomName = _this$props.roomName,\n          kitchenTemperature = _this$props.kitchenTemperature,\n          livingroomTemperature = _this$props.livingroomTemperature,\n          bathroomTemperature = _this$props.bathroomTemperature,\n          bedroomTemperature = _this$props.bedroomTemperature,\n          kitchenCurrentTemp = _this$props.kitchenCurrentTemp,\n          bedroomCurrentTemp = _this$props.bedroomCurrentTemp,\n          bathroomCurrentTemp = _this$props.bathroomCurrentTemp,\n          livingroomCurrentTemp = _this$props.livingroomCurrentTemp,\n          changeBathroomTemp = _this$props.changeBathroomTemp,\n          changeLivingroomTemp = _this$props.changeLivingroomTemp,\n          changeKitchenTemp = _this$props.changeKitchenTemp,\n          changeBedroomTemp = _this$props.changeBedroomTemp; // console.log(kitchenTemperature);\n\n    var tempTarget = function () {\n      if (roomName === \"Kitchen\") return kitchenTemperature;\n      if (roomName === \"Livingroom\") return livingroomTemperature;\n      if (roomName === \"Bedroom\") return bedroomTemperature;\n      if (roomName === \"Bathroom\") return bathroomTemperature;\n    }(); // console.log(tempTarget);\n\n\n    tempTarget = typeof temp === \"number\" ? tempTarget : tempTarget.temperature;\n\n    var currentTemp = function () {\n      if (roomName === \"Kitchen\") return kitchenCurrentTemp;\n      if (roomName === \"Livingroom\") return livingroomCurrentTemp;\n      if (roomName === \"Bedroom\") return bedroomCurrentTemp;\n      if (roomName === \"Bathroom\") return bathroomCurrentTemp;\n    }();\n\n    currentTemp = typeof temp === \"number\" ? currentTemp : currentTemp.temperature;\n    const tempDiff = tempTarget - currentTemp; //set room status: cooling/heating/idle\n\n    if (tempDiff > 0) {\n      this.setState({\n        heating: true,\n        cooling: false,\n        idle: false\n      });\n    } else if (tempDiff < 0) {\n      this.setState({\n        heating: false,\n        cooling: true,\n        idel: false\n      });\n    } else {\n      this.setState({\n        heating: false,\n        cooling: false,\n        idel: true\n      });\n    }\n\n    this.changeTempInterval = setInterval(() => {\n      if (roomName === \"kitchen\") changeKitchenTemp(currentTemp + tempDiff / 10);\n      if (roomName === \"livingroom\") changeLivingroomTemp(currentTemp + tempDiff / 10);\n      if (roomName === \"bedroom\") changeBedroomTemp(currentTemp + tempDiff / 10);\n      if (roomName === \"bathroom\") changeBathroomTemp(currentTemp + tempDiff / 10);\n      console.log('currentTemp', currentTemp);\n\n      if (currentTemp === tempTarget) {\n        clearInterval(this.changeTempInterval);\n      }\n    }, 1000);\n  }\n\n  componentWillUnmount() {}\n\n  render() {\n    const _this$props2 = this.props,\n          roomName = _this$props2.roomName,\n          livingroomCurrentTemp = _this$props2.livingroomCurrentTemp,\n          kitchenCurrentTemp = _this$props2.kitchenCurrentTemp,\n          bedroomCurrentTemp = _this$props2.bedroomCurrentTemp,\n          bathroomCurrentTemp = _this$props2.bathroomCurrentTemp,\n          changeBathroomTemp = _this$props2.changeBathroomTemp,\n          changeLivingroomTemp = _this$props2.changeLivingroomTemp,\n          changeKitchenTemp = _this$props2.changeKitchenTemp,\n          changeBedroomTemp = _this$props2.changeBedroomTemp; //change current temperature based on \n\n    return React.createElement(\"div\", {\n      className: \"room\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, roomName), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Temperature: 26\\xB0F \"), React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Status:cooling\"), React.createElement(LineChart, {\n      width: 600,\n      height: 400,\n      title: 'Current Temperature',\n      data: this.state.data,\n      range: [60, 85],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log(state);\n  return {\n    kitchenTemperature: state.temperature.kitchenTemperature,\n    livingroomTemperature: state.temperature.livingroomTemperature,\n    bedroomTemperature: state.temperature.bedroomTemperature,\n    bathroomTemperature: state.temperature.bathroomTemperature,\n    livingroomCurrentTemp: state.temperature.livingroomCurrentTemp,\n    bedroomCurrentTemp: state.temperature.bedroomCurrentTemp,\n    bathroomCurrentTemp: state.temperature.bathroomCurrentTemp,\n    kitchenCurrentTemp: state.temperature.kitchenCurrentTemp\n  };\n};\n\nexport default connect(mapStateToProps, {})(Room);","map":{"version":3,"sources":["/Users/langgao/Documents/HiberSense Dashboard/hibersense-dash/src/components/Rooms/Room.js"],"names":["React","Component","LineChart","connect","changeBathroomTemp","changeLivingroomTemp","changeKitchenTemp","changeBedroomTemp","Room","constructor","props","state","kitchenData","bedroomData","livingroomData","bathroomData","cooling","heating","idle","componentDidMount","roomName","kitchenTemperature","livingroomTemperature","bathroomTemperature","bedroomTemperature","kitchenCurrentTemp","bedroomCurrentTemp","bathroomCurrentTemp","livingroomCurrentTemp","tempTarget","temp","temperature","currentTemp","tempDiff","setState","idel","changeTempInterval","setInterval","console","log","clearInterval","componentWillUnmount","render","data","mapStateToProps"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react'\nimport LineChart from '../LineChart/LineChart';\nimport {connect} from 'react-redux';\nimport {changeBathroomTemp, changeLivingroomTemp,changeKitchenTemp,changeBedroomTemp} from '../store/actions/temperatureSettingAction';\n\nclass Room extends Component {\n  constructor(props){\n    super(props);\n    this.state={\n      kitchenData:{},\n      bedroomData:{},\n      livingroomData:{},\n      bathroomData:{},\n      cooling:false,\n      heating:false,\n      idle:false\n    }\n  }\n\n  \n  componentDidMount(){\n    const {\n      roomName, \n      kitchenTemperature,\n      livingroomTemperature,\n      bathroomTemperature,\n      bedroomTemperature,\n\n      kitchenCurrentTemp,\n      bedroomCurrentTemp,\n      bathroomCurrentTemp,\n      livingroomCurrentTemp,\n\n      changeBathroomTemp, \n      changeLivingroomTemp,\n      changeKitchenTemp,\n      changeBedroomTemp\n    \n    } = this.props;\n\n    // console.log(kitchenTemperature);\n\n    var tempTarget =(function(){\n      if(roomName===\"Kitchen\") return kitchenTemperature;\n      if(roomName===\"Livingroom\") return livingroomTemperature;\n      if(roomName===\"Bedroom\") return bedroomTemperature;\n      if(roomName===\"Bathroom\")return bathroomTemperature;\n    })();\n    // console.log(tempTarget);\n\n    tempTarget = typeof temp === \"number\"? tempTarget: tempTarget.temperature;\n\n    var currentTemp =(function(){\n      if(roomName===\"Kitchen\") return kitchenCurrentTemp;\n      if(roomName===\"Livingroom\") return livingroomCurrentTemp;\n      if(roomName===\"Bedroom\") return bedroomCurrentTemp;\n      if(roomName===\"Bathroom\")return bathroomCurrentTemp;\n    })();\n\n    currentTemp = typeof temp === \"number\"? currentTemp: currentTemp.temperature;\n\n    const tempDiff = tempTarget - currentTemp;\n    //set room status: cooling/heating/idle\n    if(tempDiff>0){\n      this.setState({heating: true, cooling:false, idle:false})\n    }else if(tempDiff <0){\n      this.setState({heating: false, cooling:true,idel:false})\n    }else{\n      this.setState({heating: false, cooling:false,idel:true})\n    }\n\n\n    this.changeTempInterval = setInterval(()=>{\n      if(roomName===\"kitchen\") changeKitchenTemp(currentTemp+tempDiff/10);\n      if(roomName===\"livingroom\") changeLivingroomTemp(currentTemp+tempDiff/10);\n      if(roomName===\"bedroom\") changeBedroomTemp(currentTemp+tempDiff/10);\n      if(roomName===\"bathroom\") changeBathroomTemp(currentTemp+tempDiff/10);\n      console.log('currentTemp',currentTemp);\n      if(currentTemp === tempTarget){\n          clearInterval(this.changeTempInterval);\n      }\n    },1000)\n\n  }\n\n  componentWillUnmount(){\n\n  }\n\n\n\n\n  render() {\n    \n    const {\n      roomName,\n      livingroomCurrentTemp,\n      kitchenCurrentTemp,\n      bedroomCurrentTemp,\n      bathroomCurrentTemp,\n\n      changeBathroomTemp,\n      changeLivingroomTemp,\n      changeKitchenTemp,\n      changeBedroomTemp} = this.props;\n\n    //change current temperature based on \n\n\n    return (\n      <div className='room'>\n          <h1>{roomName}</h1>\n          <h5>Temperature: 26Â°F </h5>\n          <h6>Status:cooling</h6>\n\n          <LineChart \n              width={600} \n              height={400}\n              title={'Current Temperature'}\n              data = {this.state.data}\n              range={[60,85]}\n          />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps=state=>{\n  console.log(state);\n  return{\n    kitchenTemperature: state.temperature.kitchenTemperature,\n    livingroomTemperature: state.temperature.livingroomTemperature,\n    bedroomTemperature: state.temperature.bedroomTemperature,\n    bathroomTemperature: state.temperature.bathroomTemperature,\n\n    livingroomCurrentTemp:state.temperature.livingroomCurrentTemp,\n    bedroomCurrentTemp:state.temperature.bedroomCurrentTemp,\n    bathroomCurrentTemp:state.temperature.bathroomCurrentTemp,\n    kitchenCurrentTemp:state.temperature.kitchenCurrentTemp,\n  }\n}\n\nexport default connect(mapStateToProps, {})(Room);\n"]},"metadata":{},"sourceType":"module"}